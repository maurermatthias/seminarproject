package knowledgestructureelements;

import java.util.HashMap;
import java.util.List;

import test2.DBConnector;

public class CompetenceState {
	HashMap<Competence, Double> map = new HashMap<Competence, Double>();
	public int cstructureId;
	public int studentId;
	public int classId;
	public CompetenceStructure compStr;
	
	public CompetenceState(int  userId, int classId){
		this.studentId = userId;
		this.classId = classId;
		this.cstructureId = DBConnector.getCstructureIdByClassId(classId);
		compStr = DBConnector.getCompetenceStructure(cstructureId);
		loadCompetenceState();
	}
	
	private boolean loadCompetenceState(){
		//create initial competence state -> watch out when having circles!
		for(Competence competence : compStr.competences){
			Double value = DBConnector.getCompetenceValue(studentId, classId, DBConnector.getCompetenceIdByName(competence.name));
			map.put(competence,value);
		}
		return true;
	}
	
	private boolean store(){
		return true;
	}
	
}
